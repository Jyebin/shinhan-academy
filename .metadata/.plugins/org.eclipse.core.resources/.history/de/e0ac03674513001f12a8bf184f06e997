<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="student">
	<resultMap type="chapter07.StudentVO" id="svo">
		<result column="grade" property="year" />
	</resultMap>
	<select id="count" parameterType="chapter07.StudentVO"
		resultType="">
		select count(*) from student
	</select>
	<select id="all" resultType="chapter07.StudentVO"
		parameterType="chater07.StudentVO">
		select * from student
		<where>
			<if test="searchWord != null and searchWrod != ''">
				<if test="searchType == 'all'">
					name like '%{searchWord}% or id like '%${searchWord}'
				</if>
				<if test="searchType != 'all'">
					${searchType} like '%{searchWord}%'
				</if>
				<if test="searchGrade > 0">
				AND grade = #{searchGrade}</if>
				name like '%${searchWord}%'
			</if>
			<if test="searchMajor != null"></if>
			<foreach collection="searchMajor" open="(" close=")" separator=","></foreach>
			#{searchMajor}
		</where>
	</select>
	<select id="view" resultType="chapter07.StudentVO"
		parameterType="int">
		select * from student where studno = #{xcbxcbxcvb}
	</select>
	<select id="view" resultType="chapter07.StudentVO"
		parameterType="map">
		select * from student where studno = #{xcbxcbxcvb}
	</select>
</mapper> 